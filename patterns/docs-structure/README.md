# docs-structure パターン

> **🤖 AIへのワンショット指示（コピペ用）**
>
> ```
> https://github.com/1ft-seabass/my-ai-collaboration-patterns/tree/main/patterns/docs-structure
> この仕組みを導入したいです。npx degit で構造を持ってきましょう。
>
> npx degit で取得した templates/ 配下のファイル群を、
> templates/ というフォルダ名ではなく、docs/ 直下に配置してください。
>
> 期待する結果：
>   docs/
>     ├── README.md
>     ├── actions/
>     ├── letters/
>     ├── notes/
>     └── tasks/
>
> NG例（これは避ける）：
>   docs/templates/  ← templatesフォルダを作らない
>   templates/       ← templatesという名前で配置しない
>
> プロジェクトが成熟し、要件が明確になった段階でカスタマイズしてください。
> 初期段階では一般化されたテンプレートのまま使用することを推奨します。
> ```

AIが理解しやすいドキュメント管理構造

## 📦 このパターンについて

AI協働開発において、AIアシスタントが効率的に情報を探索・理解できるドキュメント構造を提供します。

### 解決する問題

- **情報の散在**: ドキュメントがあちこちに分散し、AIが見つけられない
- **文脈の断絶**: セッション間で作業内容が引き継がれず、毎回説明が必要
- **構造の不統一**: プロジェクトごとに構造が異なり、AIが迷う

### このパターンの特徴

- **README駆動**: すべてのディレクトリにREADME.mdを配置し、AIが迷わず探索できる
- **階層的な知見管理**: 申し送り・開発ノート・ADRを明確に分離
- **テンプレート付き**: すぐに使える申し送り・ノートのテンプレート
- **AI最適化**: 3-4層の浅い階層、統一された命名規則

## 🚀 使い方

### degit で取得（推奨）

**重要**: `templates` ディレクトリを指定してください。パターン直下ではなく、`templates` 以下がプロジェクトで使用するドキュメント構造です。

```bash
npx degit 1ft-seabass/my-ai-collaboration-patterns/patterns/docs-structure/templates ./docs
```

### Git Clone

```bash
git clone https://github.com/1ft-seabass/my-ai-collaboration-patterns.git
cp -r my-ai-collaboration-patterns/patterns/docs-structure/templates/* ./docs/
```

### AIに読ませる

プロジェクトに配置後、セッション開始時にAIアシスタントに以下を指示：

```
「docs/README.md を読んで、最新の申し送りを確認してください」
```

## 📂 作成される構造

アジャイル開発の初期段階で効果的な**最小限の4つのフォルダ**で構成されています。

```
docs/
├── README.md                           # ドキュメント目次
├── actions/                            # タスク自動化指示書
│   ├── README.md
│   └── （複数のアクションファイル.md） # タスク別の指示書
├── letters/                           # 申し送り（時系列）
│   ├── README.md
│   └── TEMPLATE.md                    # 申し送りテンプレート
├── notes/                             # 開発ノート（試行錯誤）
│   ├── README.md
│   └── TEMPLATE.md                    # ノートテンプレート
└── tasks/                             # タスク管理
    ├── README.md
    └── TEMPLATE.md                    # タスクテンプレート
```

### 必要に応じて追加できるフォルダ

プロジェクトが成熟し、letters や notes がたまってきたら追加できます：

- `ai-collaboration/` - AI協働開発ガイド
- `architecture/` - アーキテクチャ設計・ADR
- `development/` - 開発ガイド・ベストプラクティス
- `spec/` - 仕様書

**重要**: 使っていないフォルダがあると、AIも人間も混乱します。

## 🎯 使用例

### セッション開始時

```
「docs/README.md を読んで、最新の申し送りを確認してください」
```

### セッション終了時

```
「今日の作業内容を docs/letters/ に申し送りとして記録してください」
```

### 技術的な問題を解決した時

```
「docs/notes/ に今回の試行錯誤を記録してください」
```

## 📖 コアコンセプト

### actions - タスク自動化指示書

繰り返し実行するタスクを指示書として保存し、`@actions/ファイル名.md` で呼び出すことで、AIが自動的にタスクを実行します。

**提供されるアクション:**
- Git操作、知見まとめ、セッション開始などの各種タスクファイル
- 詳細は `actions/README.md` を参照

**効果:**
- **トークン削減**: 約70%（実測値）
- **時間短縮**: 確認の往復がない
- **一貫性**: 毎回同じ品質

### 4種類のフォルダ

| 種類 | 目的 | いつ使う |
|------|------|----------|
| **actions** | タスク自動化指示書 | 繰り返し実行するタスク |
| **letters** | セッション引き継ぎ | セッション終了時 |
| **notes** | 試行錯誤の記録 | 難しい問題を解決した |
| **tasks** | タスク管理 | セッション跨ぎのタスク |

### README駆動のナビゲーション

すべてのディレクトリにREADME.mdを配置することで：
- AIが迷わず目的のドキュメントを探せる
- 人間も構造を理解しやすい
- ドキュメント追加時の配置場所が明確

### 小分けの原則

- **1ファイル = 1知見**（50-150行が目安）
- **独立性を保つ**（単独で理解可能）
- **MECE原則**（漏れなく、重複なく）

## 💡 運用のコツ

### セッション開始時の習慣

1. 最新の申し送りを確認
2. 関連する開発ノートを参照
3. 作業計画を立てる

### セッション終了時の習慣

1. 申し送りを作成（TEMPLATE.md使用）
2. 完了タスク・進行中タスク・注意事項を記録
3. 次セッションの優先事項を明記

### 知見の蓄積

- **試行錯誤の記録**: notes/ へ
- **繰り返すタスク**: actions/ へ
- **必要に応じて**: architecture/, development/, spec/ などを追加

## 🔗 関連パターン

- [server-management](../server-management/) - サーバー管理スクリプト（このドキュメント構造で管理可能）
- [prompt-engineering](../prompt-engineering/) - プロンプト設計（Coming Soon）

## 📚 詳細ドキュメント

詳細な使い方やカスタマイズ方法は以下を参照：
- [GUIDE.md](./GUIDE.md) - AI向け補足ガイド（degit後に読む）
- [examples/](./examples/) - 具体的な使用例

## 🛠️ カスタマイズ

このパターンは汎用的な構造ですが、プロジェクトに応じてカスタマイズ可能：

### ディレクトリの追加

```bash
# 例: APIドキュメントを追加
mkdir -p docs/api
echo "# API ドキュメント" > docs/api/README.md
```

### カテゴリの追加

```bash
# 例: best-practices にカテゴリ追加
mkdir -p docs/development/best-practices/frontend
echo "# フロントエンド ベストプラクティス" > docs/development/best-practices/frontend/README.md
```

## ⚡ 効果

### Before（パターン適用前）
- セッションごとに同じ説明を繰り返す
- 過去の試行錯誤が忘れられる
- AIが情報を見つけられず質問攻め

### After（パターン適用後）
- 申し送りで即座に文脈を回復
- ノートで過去の知見を参照
- AIが自律的に情報を探索

## 📊 メトリクス

実際のプロジェクトでの効果（参考値）：
- セッション開始時間: **10分 → 2分**（80%削減）
- 文脈説明の質問: **5-10回 → 0-1回**（90%削減）
- 知見の再利用: **ほぼ0 → 月3-5回**

## 🙋 よくある質問

**Q: 既存プロジェクトに導入できる？**
A: 可能です。既存のドキュメントを新しい構造に移行し、段階的に運用してください。

**Q: 小規模プロジェクトでも有効？**
A: はい。特に複数セッションにまたがる開発では効果的です。

**Q: チーム開発でも使える？**
A: はい。申し送りを「開発者間の引き継ぎ」としても活用できます。

**Q: テンプレートは必須？**
A: 推奨ですが任意です。構造の一貫性がAIの理解を助けます。

## 📝 ライセンス

MIT License - 自由に使用・改変・配布できます

---

**このパターンの実例**: このリポジトリ自身が `docs/` でこのパターンを使用しています（ドッグフーディング）
