# actions - ブランチ専用タスク自動化指示書

このディレクトリには、**このブランチ専用**の繰り返し実行するタスクの指示書が格納されています。

> **ブランチ封じ込め型**: このactions/ディレクトリはブランチと共に生まれ、ブランチと共に消えます。mainブランチを汚しません。

## 使い方

Claude Codeなどで以下のように呼び出します：

```
@actions/ファイル名.md
```

AIが指示書を読み込み、定義されたタスクを実行します。

## 利用可能なアクション

- `git_commit_and_push.md` - ブランチの進捗をコミット・プッシュ
- `current_create_knowledge.md` - ブランチでの知見をまとめる
- `current_create_letter.md` - 申し送りの作成（セッション終了時）
- `simple_start_from_latest_letter.md` - ブランチセッション開始（申し送りから）

## ブランチ専用アクションの例

### branch_test_and_commit.md（テスト後コミット）

```markdown
# ブランチのテスト実行とコミット

## 目的
ブランチの変更に対してテストを実行し、成功したらコミット・プッシュする

## 実行手順
1. `node scripts/test/run-all.js` でテストを実行
2. テストが成功したら、変更をコミット
3. ブランチにプッシュ
```

### branch_deploy_preview.md（プレビューデプロイ）

```markdown
# ブランチのプレビューデプロイ

## 目的
ブランチの現在の状態をプレビュー環境にデプロイ

## 実行手順
1. `node scripts/build/prod.js` でビルド
2. プレビュー環境にデプロイ（例: Vercel, Netlify）
3. プレビューURLを docs/letter/ の最新申し送りに記録
```

## 新しいアクションの追加

1. このディレクトリに `新しいタスク名.md` を作成
2. 以下の構造で記述：
   - 目的
   - 実行条件
   - 実行手順（scripts/ のスクリプトを活用）
   - 注意事項
   - 期待する結果
3. `@actions/新しいタスク名.md` で呼び出し

## ヒント

- **スクリプトとの連携**: `scripts/` のスクリプトを活用
- **ドキュメント更新**: 結果を `docs/letter/` や `docs/notes/` に記録
- **指示は具体的に**: ブランチ固有の文脈を含める
- **ステップは細かく**: 失敗時の切り分けがしやすい
- **期待する結果を明記**: 成功基準を明確に

## 効果

actionsパターンを使うことで：
- **トークン削減**: 約70%（実測値）
- **時間短縮**: 確認の往復がない
- **一貫性**: 毎回同じ品質
- **再現性**: ブランチ内で確実に再現可能
- **ブランチ封じ込め**: mainブランチを汚さない

## 🔗 関連リンク

- [../docs/](../docs/) - ブランチ専用ドキュメント
- [../scripts/](../scripts/) - ブランチ専用スクリプト
