---
tags: []
---

# 申し送り（yyyy-mm-dd-hh-mm-ss-{title}）

<!-- ============================================================
  このテンプレートの使い方（実際の申し送りには含めないこと）
  ============================================================ -->

## 📖 テンプレート使用ガイド

### このディレクトリの役割
セッション終了時に次のAIへ引き継ぐ情報（完了事項、未完了事項、文脈、注意事項など）を記録します。

### 命名規則
```
docs/letters/yyyy-mm-dd-hh-mm-ss-{title}.md
```

- **yyyy-mm-dd-hh-mm-ss**: 作成日時（例: 2026-02-01-07-34-02）
- **title**: セッションの主要テーマ（ケバブケース推奨、30文字以内目安）
- 例: `2026-02-01-07-34-02-phase2-implementation-complete.md`

### FrontMatter の記入方法
```yaml
---
tags: [session-handoff, phase2, refactoring]
---
```

- **tags**: 3-5個推奨（セッションのテーマ、対象機能、フェーズなど）
- 既存の申し送りの tags を参考に統一感を保つ

### いつ使うか
- トークン予算の75-85%を超えた
- セッションが長時間に及んだ
- 重要な決定事項があった
- 次のセッションで文脈が必要

### 検索方法
```bash
# タグで検索
grep -r "tags:.*phase2" docs/letters/

# タイトルで検索
ls docs/letters/ | grep implementation

# 内容で検索
grep -r "未完了" docs/letters/
```

### 機密情報保護ルール
- API キー・パスワード・トークンは必ずプレースホルダー（`YOUR_API_KEY`等）で記載
- 実際の機密情報は絶対に含めない
- .env や設定ファイルの内容をそのまま転記しない
- コミット前に git diff で内容を確認
- プッシュはせずコミットのみ（人間がレビュー後にプッシュ）

---

<!-- ============================================================
  ここから下が実際のテンプレート内容
  ============================================================ -->

> **⚠️ 機密情報保護ルール**
>
> この申し送りに記載する情報について:
> - API キー・パスワード・トークンは必ずプレースホルダー(`YOUR_API_KEY`等)で記載
> - 実際の機密情報は絶対に含めない
> - .env や設定ファイルの内容をそのまま転記しない
> - コミット前に git diff で内容を確認
> - プッシュはせずコミットのみ(人間がレビュー後にプッシュ)

## 🔔 Compact前チェックリスト

### トークン使用量の目安
トークン予算の**75-85%**を超えたら申し送り作成を検討しましょう。

- **75%超**: 余裕を持って検討開始
- **85%超**: 早急に申し送り作成
- **100%**: auto compactが発火（文脈が失われる前に記録を！）

> 💡 **トークン使用量の確認方法**
> 会話中に表示される `Token usage: X/Y; Z remaining` を参照
> 例: Claude Codeの場合は予算200,000トークン

### 記録すべき内容を確認
- [ ] 現在のセッションで決定した重要事項を記録したか？
- [ ] 議論の流れと理由を記録したか？
- [ ] 次のセッションで必要な「文脈」「空気感」を言語化したか？
- [ ] 技術的な決定の「なぜ」を明記したか？
- [ ] 注意事項に新しい学びを追加したか？

---

## 🔍 次のセッション開始時の検証プロトコル

**次のAIへ: セッション開始時に必ず以下を実行してください**

### 1. 前セッションの完了状態を検証
下記の「検証コマンド」を実行し、申し送りの「完了」が実態と一致しているか確認してください。

### 2. 検証結果を人間に報告
- ✅ **全て成功**: 「前セッションの完了状態を確認しました。[次のPhase/タスク]から開始します。」
- ⚠️ **失敗あり**: 「[Phase/タスク名]が未完了でした（理由: [エラー内容]）。[該当箇所]から再開します。」

### 3. 実態ベースで進める
- 申し送りの「完了」は参考程度
- 検証結果が真実

---

## 🔧 コマンド実行ルール

**次のAIへ: コマンド実行前に必ず確認すること**

### 原則：プロジェクトの標準実行方法を探す
実行前に以下を**順番に確認**してから判断：

1. **package.json** の `scripts` セクション（Node.js系）
2. **Makefile** の targets（`make dev`, `make start` など）
3. **docker-compose.yml** の存在（Docker系）
4. **README.md** の Getting Started / Development セクション
5. **pyproject.toml** / **Cargo.toml** など（他言語）

### 禁止事項
- ❌ 確認なしで勝手にサーバー起動
- ❌ `node src/index.js` のような直接実行（scriptsがある場合）
- ❌ ビルド・DB操作を無断実行

### 推奨手順
```bash
# 1. 利用可能な起動方法を調査
ls package.json Makefile docker-compose.yml 2>/dev/null

# 2. 見つかったファイルの内容確認
# 3. 人間に「npm run dev を実行しますか？」と提案
```

**理由**: プロジェクトごとに標準的な起動方法が異なるため

---

## 現在の状況（Phase別 / タスク別）

### Phase X: [Phase名 / タスク名]
**ステータス**: ✅ 完了 / ⚠️ 部分完了 / ❌ 未完了

**完了内容**:
- ✅ [実装した機能・修正した内容]
- ✅ [テストした内容]

**未完了内容**:
- ⚠️ [まだテストしていない内容]
- ⚠️ [残っている課題]

**検証コマンド** (次のセッションのAIが実行):
```bash
# 基本的な動作確認
curl http://localhost:3000/api/endpoint

# テストコード（あれば）
npm test -- test-name

# その他の確認コマンド
[コマンド]
```

**検証が失敗した場合の対処**:
- [エラーケース1] が起きたら → [対処方法 / どこから再開]
- [エラーケース2] が起きたら → [対処方法 / どこから再開]

---

## 次にやること
1. 最優先: XXX（理由: ...）
2. 次に: YYY
3. その後: ZZZ

## 注意事項
- ⚠️ XXXは動作しない（理由: ...）
- ⚠️ YYYを変更する場合はZZZも更新必要
- ⚠️ [重要な制約や注意点]

## 技術的な文脈
- 使用技術: [フレームワーク] v[バージョン]
- 重要ファイル: `path/to/file`
- 関連ドキュメント: [リンク]

---

## セッション文脈サマリー

### 核心的な設計決定
- **決定事項**: [何を決めたか]
  - 理由: [なぜその判断をしたか]
  - 影響範囲: [どこに影響するか]

### 議論の流れ
1. **最初の問題認識**: どんな課題から始まったか
2. **検討したアプローチ**: どんな選択肢を考えたか
3. **最終決定**: 何を選び、なぜそれを選んだか
4. **残った課題**: 何が未解決か

### 次のセッションに引き継ぐべき「空気感」
- **このプロジェクトの優先順位**: 何を最も重視しているか
- **避けるべきアンチパターン**: 過去の失敗から学んだこと
- **重視している価値観**: コードの品質、速度、保守性のバランス
- **現在の開発フェーズ**: プロトタイプ/安定化/最適化など

---

**作成日時**: yyyy-mm-dd hh:mm:ss
**作成者**: [名前 or AI]
