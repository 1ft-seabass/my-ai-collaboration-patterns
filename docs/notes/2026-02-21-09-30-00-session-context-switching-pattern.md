---
tags: [docs-structure, workflow, context-switching, tasks, session-management]
---

# セッション内での作業切り替え時のノート活用パターン

## 問題

### セッション内で作業が切り替わる場面

**今回の経緯:**
1. **セキュリティチェック（setup_securecheck）の前回申し送り確認**
   - `docs/letters/2026-02-12-15-30-00-existing-project-field-test-complete.md` を確認
   - 既存プロジェクトでの実戦テスト成功の記録
   - 次の優先タスク: 新規プロジェクトでの完全なウィザードフロー検証

2. **タスク作成**
   - `docs/tasks/2026-02-21-09-00-00-new-project-wizard-flow-verification.md` を作成
   - 次回セッションで文脈をすぐに取り戻せるように記録

3. **別作業への切り替え**
   - 「ちょうどここが切り替わりセッションなので、うまく使いますね」
   - v1.1.0 リリース前の締め作業（アクション改善）へ移行

**課題:**
- セッション内で作業が切り替わると文脈が失われやすい
- 次回セッションで何をやるべきか忘れる可能性がある
- 複数の作業が並行すると優先順位が不明瞭になる

## 試行錯誤

### docs-structure の3点セット活用

このプロジェクトには3つの文脈管理システムがある：

#### 1. docs/letters/（申し送り）
- **役割**: セッション跨ぎの文脈継承
- **内容**: 前回の作業、未着手・残件、次にやること
- **使用タイミング**: セッション終了時（重厚なフロー）

#### 2. docs/notes/（知見）
- **役割**: 技術的な詳細、試行錯誤の記録
- **内容**: 問題、試行錯誤、解決策、学び
- **使用タイミング**: セッション終了時（ノートアンドコミット）

#### 3. docs/tasks/（TODO）
- **役割**: セッション跨ぎのタスク管理
- **内容**: チェックリスト、完了条件、優先度
- **使用タイミング**: タスクが発生したとき、別作業に移る前

### 今回の実践パターン

#### ステップ1: 申し送りで前回の文脈を取り戻す
```
ユーザー: docs/letters/2026-02-12-15-30-00-existing-project-field-test-complete.md を日本語で。
このプロジェクトの運用ルール...
```

AI は申し送りを読んで：
- 前回の作業内容を把握
- 未着手・残件を確認
- 次の優先タスクを理解

#### ステップ2: タスク化して文脈を保存
```
ユーザー: tasks に「次は新規プロジェクトでの完全なウィザードフローの検証が必要」というタスクを作りたいです。
```

AI がタスクを作成：
- `docs/tasks/2026-02-21-09-00-00-new-project-wizard-flow-verification.md`
- 優先度: high
- チェックリスト: 20項目以上
- 完了条件: 明確に記述

#### ステップ3: 別作業へ切り替え
```
ユーザー: ちょっと別作業に向かいそうなので、そうだな、これって docs/notes に書いてあります？
あと tasks に「次は新規プロジェクトでの完全なウィザードフローの検証が必要」というタスクを作りたいです。
```

AI が確認：
- docs/notes に記録済み
- tasks にタスク作成完了
- 次の作業への切り替え準備OK

#### ステップ4: v1.1.0 締め作業へ移行
```
ユーザー: ちょうどここが切り替わりセッションなので、うまく使いますね。
v1.1.0 をタグにしてリリース固めをしたいものの、そこの作業自体は私がやります。
ただ、締め対応でちょっとだけ改善したい残件があったりするので...
```

AI が新しい作業に集中：
- 前回の作業はタスク化済み
- 新しい作業（v1.1.0 締め）に専念できる

## 最終的な解決策

### タスク機能の「セッション内切り替え」活用

**従来の理解:**
- タスク = セッション跨ぎの TODO 管理

**新しい発見:**
- タスク = **セッション内の作業切り替え時の文脈保存**にも有効

### 実践フロー

```
┌─────────────────────────────────────────┐
│ セッション開始                           │
│ ↓                                       │
│ 申し送り確認（前回の文脈取り戻し）      │
│ ↓                                       │
│ 作業A（セキュリティチェック確認）       │
│ ↓                                       │
│ タスク作成（次回やることを記録）        │ ← ここがポイント
│ ↓                                       │
│ 作業切り替え（v1.1.0 締め作業）         │
│ ↓                                       │
│ 作業B（アクション改善）                 │
│ ↓                                       │
│ ノート作成 + コミット                   │
└─────────────────────────────────────────┘
```

### タスク作成のタイミング

**Good:**
- 別作業に向かう前
- 優先順位が変わる前
- 文脈を失いそうな前

**Bad:**
- 作業を忘れてから（手遅れ）
- セッション終了後（文脈が失われる）

## 学び

### 1. タスク機能の多面的価値

**発見した使い方:**
- セッション跨ぎの TODO 管理（従来）
- セッション内の作業切り替え時の文脈保存（新発見）
- 複数作業の並行管理

**自画自賛コメント:**
```
ユーザー: 感謝ですー。あと、タスク機能久々なんですが、こういう時めっちゃ便利ですね（自画自賛）
```

実際に便利だった理由：
- 申し送り → ノート → タスクの3点セットで文脈が完璧に保持される
- 次回セッションですぐに文脈を取り戻せる
- 作業切り替えがスムーズ

### 2. docs/letters + docs/notes + docs/tasks の連携

**3つの役割分担:**

| ドキュメント | 役割 | タイミング | 粒度 |
|-------------|------|-----------|------|
| **letters** | 文脈継承 | セッション終了時 | セッション全体 |
| **notes** | 技術詳細 | セッション終了時 | トピック単位 |
| **tasks** | TODO管理 | 作業切り替え時 | タスク単位 |

**相互参照:**
- タスクから申し送りを参照（背景理解）
- タスクからノートを参照（技術詳細）
- 申し送りからタスクを参照（未着手・残件）

### 3. 切り替わりセッションでの活用

**今回のセッションの特徴:**
- 1つのセッションで2つの作業
- 作業A: セキュリティチェック確認 → タスク化
- 作業B: v1.1.0 アクション改善 → 完了

**成功要因:**
- タスク化することで作業Aの文脈を保存
- 作業Bに専念できた
- どちらも文脈を失わなかった

### 4. AI協働プロジェクトの文脈管理

**このプロジェクトの設計哲学:**
- 人間とAIが協働する際の文脈管理
- セッション跨ぎ、作業切り替えに強い
- 3点セット（letters + notes + tasks）で包括的にカバー

**優秀な設計の証明:**
- トークン削減: 64%（v1.1.0 改修で実証済み）
- 文脈保持: 完璧（今回のセッションで実証）
- 使いやすさ: 自画自賛レベル（笑）

## 今後の改善案

### 1. タスク機能の積極的な活用

**推奨パターン:**
- 作業が3つ以上並行したらタスク化
- 優先順位が変わったらタスク更新
- セッション内切り替えでもタスク活用

### 2. アクションへの組み込み検討

**現状:**
- アクションは「セッション終了時」に焦点
- タスク作成は手動

**改善案:**
- セッション内切り替え用のアクション？
- 「作業を一時中断してタスク化」フロー？
- ただし、柔軟性とのトレードオフ

### 3. ドキュメント化

**このノート自体が:**
- セッション内切り替えパターンの記録
- 他のプロジェクトでも参考になる
- docs-structure パターンの価値を証明

## 関連ドキュメント

- [申し送り: 既存プロジェクト実戦テスト完了](../letters/2026-02-12-15-30-00-existing-project-field-test-complete.md) - 今回確認した申し送り
- [タスク: 新規プロジェクトウィザードフロー検証](../tasks/2026-02-21-09-00-00-new-project-wizard-flow-verification.md) - 今回作成したタスク
- [ノート: v1.1.0 アクション改善](2026-02-21-09-30-00-v1-1-0-action-improvements.md) - 今回の作業B
- [ノート: docs-structure v1.1.0 リファクタリング計画](2026-02-01-07-33-05-docs-structure-v1.0.1-to-v1.1.0-refactoring-plan.md) - トークン削減64%の記録
