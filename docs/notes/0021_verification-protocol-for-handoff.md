# 申し送り検証プロトコルの導入

**作成日**: 2025-11-18

## 背景

AI-to-AI間の申し送りにおいて、以下の問題が発生していた:

- 前セッションのAIが「完了」と書いたが、実際には未完了
- 次セッションのAIが申し送りを信じて進めてしまう
- 人間が後から「実は未完了」と指摘する手間が発生
- AIの長時間自走が増えた結果、人間が追いきれなくなった

**根本原因**: セッション越えでAIが別人格になるため、申し送り文書のみが頼りだが、その文書自体が誤っている場合がある。

## 解決策: 検証プロトコル

申し送りテンプレートに以下の要素を追加:

### 1. セッション開始時の検証プロトコル

次のセッションのAIが開始時に必ず実行すべき手順:

1. 前セッションの完了状態を検証（検証コマンドを実行）
2. 検証結果を人間に報告
3. 実態ベースで進める（申し送りは参考程度）

### 2. Phase/タスク別の検証コマンド

各Phase/タスクに以下を記録:

- **ステータス**: ✅完了 / ⚠️部分完了 / ❌未完了
- **完了内容**: 何をしたか
- **未完了内容**: 何が残っているか
- **検証コマンド**: 次のAIが実行するコマンド（curl, npm test等）
- **検証失敗時の対処**: エラーケース別の対応

## 実装場所

以下の3ファイルに適用:

- `docs/letters/TEMPLATE.md` - このリポジトリ
- `patterns/docs-structure/templates/letters/TEMPLATE.md` - 標準開発パターン
- `patterns/docs-structure-for-target-branch-only/templates/docs/letters/TEMPLATE.md` - ブランチ特化パターン

※ `writing-collaborate` パターンは除外（このような苛烈な問題が発生しないため）

## 期待される効果

1. **自動検証**: 次のAIが機械的にコマンドを実行して状態確認
2. **人間の負担軽減**: 異常検出時のみ介入すればよい
3. **嘘の自動検出**: 「完了」と書いてあってもコマンドで確認
4. **カジュアルさの維持**: 長大なチェックリストではなくシンプルなコマンド

## 主なポイント

1. 「完了」の定義を検証コマンドで明確化
2. AIが自己検証できる仕組み
3. spec化せず、カジュアルさを保つ
4. 人間は「異常があったときだけ」見ればよい

## 運用方針

**申し送り作成時**:
- 各Phase/タスクに検証コマンドを必ず書く
- 検証失敗時の対処を書く

**セッション開始時**:
- 申し送りを読む
- 検証コマンドを全て実行
- 結果を人間に報告
- 実態ベースで開発開始

---

**最終更新**: 2025-11-18
**作成者**: Claude (Sonnet 4.5)
